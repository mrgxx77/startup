const header=document.querySelector("header");header.addEventListener("mousemove",(e=>{const t=header.getBoundingClientRect(),r=20*((e.clientX-t.left)/t.width-.5),n=20*((e.clientY-t.top)/t.height-.5);header.style.backgroundPosition=`${50+r}% ${50+n}%`})),header.addEventListener("mouseleave",(()=>{header.style.backgroundPosition="50% 50%"}));const doyou=document.querySelector(".doyou");doyou.addEventListener("mousemove",(e=>{const t=doyou.getBoundingClientRect(),r=20*((e.clientX-t.left)/t.width-.5),n=20*((e.clientY-t.top)/t.height-.5);doyou.style.backgroundPosition=`${50+r}% ${50+n}%`})),doyou.addEventListener("mouseleave",(()=>{doyou.style.backgroundPosition="50% 50%"}));const dark=document.querySelector(".dark-bgc"),burger=document.querySelector(".burger"),menu=document.querySelector(".menu");function cancelBurger(){menu.style.left="-100%",dark.style.display="none"}fixed=document.querySelector(".fixed"),burger.addEventListener("click",(function(){menu.style.left="0",dark.style.display="block"})),dark.addEventListener("click",cancelBurger);const openBtn=document.querySelector(".getstarted"),popap=document.querySelector(".popap"),closeBtn=document.querySelector(".x");openBtn&&popap&&closeBtn&&(openBtn.addEventListener("click",(e=>{e.preventDefault(),popap.style.display="block"})),closeBtn.addEventListener("click",(e=>{e.preventDefault(),popap.style.display="none"})));const second=document.querySelectorAll(".second"),rock=document.querySelector(".rock svg"),names=document.querySelectorAll(".names");rock.addEventListener("dblclick",(e=>{e.preventDefault(),rock.addEventListener("click",(e=>{e.preventDefault(),second.forEach((e=>{e.style.display="block",e.style.color="#c0301c"})),names.forEach((e=>{e.style.display="none"}))}))}));const li=document.querySelectorAll(".li"),all=document.querySelector(".all");li.forEach((e=>{e.addEventListener("click",(()=>{if(e!==all)e.style.color="rgb(192, 48, 28)"===e.style.color||"#c0301c"===e.style.color?"":"#c0301c";else{let e="rgb(192, 48, 28)"===all.style.color||"#c0301c"===all.style.color;li.forEach((t=>{t.style.color=e?"":"#c0301c"}))}}))}));const filters=document.querySelectorAll("ul li"),images=document.querySelectorAll(".workplaces img"),allLi=document.querySelector("ul li.all");filters.forEach((e=>{e.addEventListener("click",(()=>{if(e.classList.contains("all")){const t=e.classList.contains("active");return filters.forEach((e=>e.classList.remove("active"))),void(t?images.forEach((e=>e.style.display="none")):(e.classList.add("active"),images.forEach((e=>e.style.display="block"))))}e.classList.toggle("active"),allLi.classList.remove("active");const t=Array.from(filters).filter((e=>e.classList.contains("active")&&!e.classList.contains("all"))).map((e=>e.classList[1]));images.forEach((e=>{if(0===t.length)return void(e.style.display="none");const r=t.some((t=>e.classList.contains(t)));e.style.display=r?"block":"none"}))}))}));let read=document.querySelectorAll(".read");read.forEach((e=>{e.addEventListener("click",(()=>{e.closest(".recent").querySelectorAll(".more").forEach((e=>{e.style.display="block"})),e.style.display="none"}))}));const slider=document.querySelector(".slider"),prevBtn=document.querySelector(".prev"),nextBtn=document.querySelector(".next"),track=document.querySelector(".slider-track");let autoSlideInterval=null;function moveNext(){const e=slider.firstElementChild;slider.children[1];slider.style.transition="transform 1s ease",slider.style.transform="translateX(-300px)",setTimeout((()=>{slider.style.transition="none",slider.style.transform="translateX(0)",slider.appendChild(e)}),500)}function movePrev(){const e=slider.lastElementChild;slider.insertBefore(e,slider.firstElementChild),slider.style.transition="none",slider.style.transform="translateX(-300px)",setTimeout((()=>{slider.style.transition="transform 1s ease",slider.style.transform="translateX(0)"}),10)}function startAutoSlide(){autoSlideInterval=setInterval(moveNext,3e3)}function stopAutoSlide(){clearInterval(autoSlideInterval)}nextBtn.addEventListener("click",(()=>{stopAutoSlide(),moveNext(),startAutoSlide()})),prevBtn.addEventListener("click",(()=>{stopAutoSlide(),movePrev(),startAutoSlide()})),startAutoSlide();const cartModal=document.getElementById("cart-modal"),cartEl=document.getElementById("cart");function getCart(){return JSON.parse(localStorage.getItem("cart"))||[]}function saveCart(e){localStorage.setItem("cart",JSON.stringify(e))}function addToCart(e){const t=getCart(),r=t.find((t=>t.id===e.id));r?r.quantity++:t.push({...e,quantity:1}),saveCart(t),renderCart()}function removeItem(e){let t=getCart();t=t.filter((t=>t.id!==e)),saveCart(t),renderCart()}function clearCart(){localStorage.removeItem("cart"),renderCart()}function renderCart(){cartEl.innerHTML="";const e=getCart();if(!e.length)return cartEl.textContent="Кошик порожній",void(cartEl.style.fontSize="15px");e.forEach((e=>{const t=document.createElement("li");t.classList.add("cart-item");const r=document.createElement("img");r.src=e.img,r.className="cart-img";const n=document.createElement("span");n.textContent=`${e.name} × ${e.quantity}`,n.style.fontSize="10px";const l=document.createElement("span");l.textContent="X",l.className="cart-remove",l.style.fontSize="10px",l.onclick=()=>removeItem(e.id),t.insertAdjacentElement("beforeend",r),t.insertAdjacentElement("beforeend",n),t.insertAdjacentElement("beforeend",l),cartEl.insertAdjacentElement("beforeend",t)}))}document.getElementById("cart-button").onclick=()=>{cartModal.classList.remove("hidden"),renderCart()},document.getElementById("close-cart").onclick=()=>{cartModal.classList.add("hidden")},document.getElementById("clear-cart").onclick=clearCart,document.addEventListener("click",(e=>{if("A"===e.target.tagName&&e.target.dataset.id){e.preventDefault();const t=e.target.closest(".hover").querySelector("img").src;addToCart({id:Number(e.target.dataset.id),name:e.target.dataset.name,price:Number(e.target.dataset.price),img:t})}})),renderCart();